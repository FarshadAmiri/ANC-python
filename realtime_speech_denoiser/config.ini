# Configuration file for Real-Time Speech Denoiser
# You can modify these settings to customize the behavior

[audio]
# Audio processing settings
sample_rate = 48000          # Audio sample rate in Hz (8000, 16000, 44100, 48000)
chunk_size = 1024           # Processing chunk size in samples (256, 512, 1024, 2048)
overlap = 0.5               # Overlap fraction for smooth reconstruction (0.0-0.8)
max_latency_ms = 100        # Maximum acceptable processing latency in milliseconds

[model]
# Neural network model settings
n_fft = 1024               # FFT size for frequency analysis
hop_length = 256           # Hop size for STFT
n_erb = 32                 # Number of ERB filters
hidden_size = 256          # LSTM hidden size
num_layers = 3             # Number of LSTM layers

[processing]
# Processing optimization settings
device = auto              # Processing device: auto, cpu, cuda
file_chunk_size = 8192     # Chunk size for file processing (larger = faster, more memory)
use_spectral_subtraction = true  # Enable additional spectral subtraction
spectral_alpha = 2.0       # Over-subtraction factor for spectral subtraction
spectral_beta = 0.01       # Noise floor factor for spectral subtraction
blend_factor = 0.3         # Blend factor between spectral subtraction and neural network

[realtime]
# Real-time processing settings
input_buffer_size = 10     # Input audio buffer size multiplier
output_buffer_size = 10    # Output audio buffer size multiplier
processing_queue_size = 10 # Processing queue size
threading_timeout = 0.1    # Thread timeout in seconds

[audio_devices]
# Audio device preferences (set to -1 for default)
input_device = -1          # Input device ID (-1 for default microphone)
output_device = -1         # Output device ID (-1 for default speakers)
channels = 1               # Number of audio channels (1 for mono, 2 for stereo)

[advanced]
# Advanced settings (modify with caution)
enable_gpu = true          # Enable GPU acceleration if available
mixed_precision = false    # Use mixed precision training (experimental)
optimize_for_latency = true  # Optimize processing pipeline for lower latency
debug_mode = false         # Enable debug output
save_intermediate = false  # Save intermediate processing results

[file_processing]
# File processing specific settings
auto_resample = true       # Automatically resample input files to target sample rate
normalize_output = true    # Normalize output audio levels
output_format = wav        # Output file format (wav, flac, mp3)
output_bitdepth = 16       # Output bit depth (16, 24, 32)

[noise_reduction]
# Noise reduction algorithm settings
enable_vad = false         # Enable Voice Activity Detection (experimental)
vad_threshold = 0.5        # VAD threshold (0.0-1.0)
noise_gate_threshold = -40 # Noise gate threshold in dB
enable_compressor = false  # Enable dynamic range compression
compressor_ratio = 4.0     # Compression ratio

[performance]
# Performance monitoring settings
enable_statistics = true   # Enable performance statistics
statistics_window = 100    # Statistics window size (number of chunks)
log_processing_times = false  # Log individual chunk processing times
enable_profiling = false   # Enable detailed profiling (for debugging)